// Generated by CoffeeScript 1.3.3

Meteor.publish('users', function() {
  return Meteor.users.find({}, {
    fields: {
      'services.facebook.accessToken': 0
    }
  });
});

Meteor.publish('comments', function(topic) {
  return Comments.find();
});

Meteor.publish('achievements', function() {
  return Achievements.find();
});

Meteor.publish('titles', function(entity) {
  return Titles.find({
    entity: entity
  });
});

Meteor.publish('votes', function() {
  return Votes.find();
});

Meteor.publish('favourites', function() {
  return Favourites.find();
});

Meteor.publish('accomplishments', function() {
  return Accomplishments.find();
});

Meteor.publish('notifications', function(batch) {
  return Notifications.find({
    receivers: this.userId
  }, {
    sort: {
      date: -1
    },
    limit: 15 * (batch + 1)
  });
});

Meteor.publish('revisions', function(document, batch) {
  return Revisions.find({
    entity: document
  }, {
    sort: {
      date: -1
    },
    limit: 15 * (batch + 1)
  });
});
